<div class="table-wrapper">
  <div class="button-container">
    <button class="add-button" (click)="openCreateMarketModal()"><b>Market Ekle</b></button>
  </div>
  <div class="container mt-5">
    <table class="table table-striped table-hover">
      <thead class="table-dark">
        <tr>
          <th>#</th>
          <th>Id</th>
          <th>Market İsmi</th>
          <th>Reyonlar</th>
          <th>Oluşturma Tarihi</th>
          <th>Güncelleme Tarihi</th>
          <th></th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let market of filteredMarkets; let i = index">
          <th scope="row">{{ i + 1 }}</th>
          <td><b>{{ market.id }}</b></td>
          <td><b>{{ market.name }}</b></td>
          <td>
            <ul>
              <li *ngFor="let rayon of market.rayons" class="rayon-warning" [class.disabled]="true"><b>{{ rayon.rayonType }}</b></li>
            </ul>
          </td>
          <td><b>{{ market.createdDate | date }}</b></td>
          <td><b>{{ market.updatedDate | date }}</b></td>
          <td>
            <button class="btn btn-danger btn-sm" (click)="deleteMarket(market.id)">
              <i class="fas fa-trash-alt"></i>
            </button>
          </td>
          <td>
            <button class="btn btn-primary btn-sm" (click)="openCreateMarketModal(market)">
              <i class="fas fa-edit"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<app-create-market #createMarketModal (onSave)="refreshMarkets()"></app-create-market>

